2021-03-16 12:38:07.059731: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2021-03-16 12:38:07.066122: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 2294520000 Hz
2021-03-16 12:38:07.067129: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55ff2548b9f0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2021-03-16 12:38:07.067154: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From tf_ddpg.py:83: dense (from tensorflow.python.keras.legacy_tf_layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.Dense instead.
WARNING:tensorflow:From /public/home/zyc20000201/miniconda3/lib/python3.8/site-packages/tensorflow/python/keras/legacy_tf_layers/core.py:187: Layer.apply (from tensorflow.python.keras.engine.base_layer_v1) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.__call__` method instead.
Traceback (most recent call last):
  File "tf_ddpg.py", line 324, in <module>
    train([1, 1, 1], 2000)
  File "tf_ddpg.py", line 275, in train
    s1, r1 = environment.step(time, a)
  File "/public/home/zyc20000201/code/ddpg/new_env.py", line 36, in step
    ev_load, ev_profit = self.load.step(action[0], time)
  File "/public/home/zyc20000201/code/ddpg/new_load.py", line 28, in step
    for i in range(length):
TypeError: 'float' object cannot be interpreted as an integer
